<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PAâ€™ MI CASA</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="responsive.css" />
</head>
<body>

  <!-- HEADER -->
  <header class="main-header">
    <!-- Banner -->
    <img src="banner.jpg" alt="PA' MI CASA Banner" class="header-banner" />

    <!-- BotÃ³n menÃº + Carrito sobre el banner -->
    <div class="header-overlay">
      <div id="provincia-info" class="provincia-info">
     <span id="provincia-text"></span>
     <button id="cambiar-ubicacion" style="background: none; border: none; color: #0077b6; text-decoration: underline; cursor: pointer; font-size: 0.8rem; margin-left: 0.3rem;">
     Cambiar
     </button>
     </div>

      <div class="header-actions">
        <button class="menu-toggle" onclick="toggleMenu()">â˜°</button>
        <a href="cart.html" class="cart-icon">
          ðŸ›’ <span id="cart-count">0</span>
        </a>
      </div>
    </div>

    <!-- MenÃº lateral -->
    <nav class="side-menu" id="sideMenu">
      <a href="#home">Home</a>
      <a href="Products.html">Productos</a>
      <a href="gestor.html">Quiero ser Gestor</a>
      <a href="#Global Imports">Global Imports</a>
      <a href="remesas/remesas.html">Remesas</a>
      <a href="#reviews">Reviews</a>
      <a href="#contact">Contact</a>
    </nav>
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>
  </header>

 <!-- SecciÃ³n de Bienvenida con Banner completo -->
<section class="hero-banner">
  <img src="img/Bienvenido.jpg" alt="Bienvenida a PA MI CASA" class="full-banner-img">
</section>


  <!-- FEATURES -->
  <section class="features">
    <div class="feature">âœ… Quality Guaranteed</div>
    <div class="feature">ðŸšš Fast Shipping</div>
    <div class="feature">ðŸ’¬ Personalized Support</div>
  </section>

  <!-- PRODUCTS -->
  <section id="products" class="products">
    <h2>Featured Products</h2>
    <div class="filter-bar"></div>
    <div class="product-grid" id="product-container"></div>
  </section>

  <!-- CART DISPLAY -->
  <section id="cart-display" class="cart-section">
    <h1>Your Cart</h1>
    <div id="cart-items"></div>
  </section>

  <!-- REVIEWS -->
  <section id="reviews" class="reviews">
    <h2>Customer Reviews</h2>
    <div class="review">"Excellent service and product quality." â€“ Emir</div>
    <div class="review">"Fast delivery and great packaging." â€“ Laura</div>
    <div class="review">"Very helpful support." â€“ Carlos</div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="social-links">
      <a href="#">Facebook</a> |
      <a href="#">Instagram</a> |
      <a href="#">WhatsApp</a>
    </div>
    <p>Â© 2025 PAâ€™ MI CASA. Todos los derechos reservados.</p>
  </footer>

  <!-- SCRIPTS -->
  <script src="main.js"></script>
  <script src="cart.js"></script>
  <script src="ubicacion.js"></script>
  <script src="ref-manager.js"></script>
  <script>
  // AÃ±adir ref=? al navegar por la tienda
  document.addEventListener("DOMContentLoaded", () => {
    const ref = localStorage.getItem("gestorRef");
    if (!ref) return;

    document.querySelectorAll("a[href]").forEach(link => {
      const href = link.getAttribute("href");

      // Solo enlaces internos y sin ref ya
      if (href && !href.startsWith("http") && !href.includes("ref=")) {
        const sep = href.includes("?") ? "&" : "?";
        link.setAttribute("href", `${href}${sep}ref=${encodeURIComponent(ref)}`);
      }
    });
  });
</script>

  <script src="productos.js"></script>


  <script>
    function toggleMenu() {
      document.getElementById("sideMenu").classList.toggle("active");
      document.getElementById("overlay").classList.toggle("active");
    }

    document.addEventListener("DOMContentLoaded", () => {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const container = document.getElementById("cart-items");

      if (container) {
        if (cart.length === 0) {
          container.innerHTML = "<p>Your cart is empty.</p>";
        } else {
          let html = "<ul>";
          cart.forEach(item => {
            html += `<li>${item.name} - $${item.price.toFixed(2)}</li>`;
          });
          html += "</ul>";
          container.innerHTML = html;
        }
      }
    });
  </script>
</body>
</html>
